<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>riveted.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Riveted 0.0.7 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li class="current"><a href="riveted.core.html"><span>riveted.core</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="riveted.core.html#var--%3ENavigator"><span>-&gt;Navigator</span></a></li><li><a href="riveted.core.html#var-at"><span>at</span></a></li><li><a href="riveted.core.html#var-attr"><span>attr</span></a></li><li><a href="riveted.core.html#var-attr%3F"><span>attr?</span></a></li><li><a href="riveted.core.html#var-children"><span>children</span></a></li><li><a href="riveted.core.html#var-document%3F"><span>document?</span></a></li><li><a href="riveted.core.html#var-element%3F"><span>element?</span></a></li><li><a href="riveted.core.html#var-first-child"><span>first-child</span></a></li><li><a href="riveted.core.html#var-first-child%21"><span>first-child!</span></a></li><li><a href="riveted.core.html#var-fragment"><span>fragment</span></a></li><li><a href="riveted.core.html#var-last-child"><span>last-child</span></a></li><li><a href="riveted.core.html#var-last-child%21"><span>last-child!</span></a></li><li><a href="riveted.core.html#var-navigator"><span>navigator</span></a></li><li><a href="riveted.core.html#var-next-sibling"><span>next-sibling</span></a></li><li><a href="riveted.core.html#var-next-sibling%21"><span>next-sibling!</span></a></li><li><a href="riveted.core.html#var-next-siblings"><span>next-siblings</span></a></li><li><a href="riveted.core.html#var-parent"><span>parent</span></a></li><li><a href="riveted.core.html#var-parent%21"><span>parent!</span></a></li><li><a href="riveted.core.html#var-previous-sibling"><span>previous-sibling</span></a></li><li><a href="riveted.core.html#var-previous-sibling%21"><span>previous-sibling!</span></a></li><li><a href="riveted.core.html#var-previous-siblings"><span>previous-siblings</span></a></li><li><a href="riveted.core.html#var-root"><span>root</span></a></li><li><a href="riveted.core.html#var-root%21"><span>root!</span></a></li><li><a href="riveted.core.html#var-search"><span>search</span></a></li><li><a href="riveted.core.html#var-select"><span>select</span></a></li><li><a href="riveted.core.html#var-siblings"><span>siblings</span></a></li><li><a href="riveted.core.html#var-tag"><span>tag</span></a></li><li><a href="riveted.core.html#var-text"><span>text</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>riveted.core documentation</h2><pre class="doc">A Clojure library for the fast processing of XML with VTD-XML.
</pre><div class="public" id="var--%3ENavigator"><h3>-&gt;Navigator</h3><div class="usage"><code>(-&gt;Navigator nav)</code></div><pre class="doc">Positional factory function for class riveted.core.Navigator.
</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L59">Source</a></div></div><div class="public" id="var-at"><h3>at</h3><div class="usage"><code>(at navigator xpath)</code><code>(at navigator xpath prefix url)</code></div><pre class="doc">Search for the given XPath in the navigator, returning the first matching
navigator. If used with a namespace aware navigator, also takes a namespace
prefix and URL for use in the XPath.

Examples:

  ; Returns a single navigator for the first matching element.
  (at nav &quot;/article/title&quot;)

  ; Returns a single navigator for the first matching element providing
  ; ns-nav is namespace aware.
  (at ns-nav &quot;//ns1:title&quot; &quot;ns1&quot; &quot;http://example.com/ns&quot;)</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L586">Source</a></div></div><div class="public" id="var-attr"><h3>attr</h3><div class="usage"><code>(attr navigator attr-name)</code></div><pre class="doc">Return the value of the named attribute for the given navigator.
Attributes can be specified with either a keyword or string name.

Examples:

  (attr (root nav) :lang)
  ;=&gt; &quot;en&quot;</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L131">Source</a></div></div><div class="public" id="var-attr%3F"><h3>attr?</h3><div class="usage"><code>(attr? navigator attr-name)</code></div><pre class="doc">Test whether the given attribute exists on the current element.
Attributes can be specified with either a keyword or string name.

Examples:

  (attr? (root nav) :lang)
  ;=&gt; true</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L143">Source</a></div></div><div class="public" id="var-children"><h3>children</h3><div class="usage"><code>(children navigator)</code><code>(children navigator element)</code></div><pre class="doc">Return a lazy sequence of navigators for all child nodes of the given
navigator (optionally restricted by a given element type).

Examples:

  ; Return navigators for all children of nav.
  (children nav)

  ; Return navigators for all child p elements of nav.
  (children nav :p)</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L448">Source</a></div></div><div class="public" id="var-document%3F"><h3>document?</h3><div class="usage"><code>(document? navigator)</code></div><pre class="doc">Tests whether the given navigator is currently positioned the document.
</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L522">Source</a></div></div><div class="public" id="var-element%3F"><h3>element?</h3><div class="usage"><code>(element? navigator)</code></div><pre class="doc">Tests whether the given navigator is currently positioned on an element.
</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L517">Source</a></div></div><div class="public" id="var-first-child"><h3>first-child</h3><div class="usage"><code>(first-child navigator)</code><code>(first-child navigator element)</code></div><pre class="doc">Return a new navigator pointing to the current element's first child element
(restricted by an optional element type).

Examples:

  ; Return a new navigator pointing to the first child element of nav.
  (first-child nav)

  ; Return a new navigator pointing to the first child b element of nav.
  (first-child nav :b)</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L350">Source</a></div></div><div class="public" id="var-first-child%21"><h3>first-child!</h3><div class="usage"><code>(first-child! navigator)</code><code>(first-child! navigator element)</code></div><pre class="doc">Move the given navigator to the current element's first child element
(restricted by an optional element type), mutating it in place.

Examples:

  ; Move nav to the first child element.
  (first-child! nav)

  ; Move nav to the first child b element.
  (first-child! nav :b)</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L244">Source</a></div></div><div class="public" id="var-fragment"><h3>fragment</h3><div class="usage"><code>(fragment navigator)</code></div><pre class="doc">Return a string XML fragment for all nodes under the given navigator.

Examples:

  (fragment nav)
  ;=&gt; &quot;&lt;b&gt;Some&lt;/b&gt; XML as a raw &lt;i&gt;string&lt;/i&gt;&quot;</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L154">Source</a></div></div><div class="public" id="var-last-child"><h3>last-child</h3><div class="usage"><code>(last-child navigator)</code><code>(last-child navigator element)</code></div><pre class="doc">Return a new navigator pointing to the current element's last child element
(restricted by an optional element type).

Examples:

  ; Return a new navigator pointing to the last child element of nav.
  (last-child nav)

  ; Return a new navigator pointing to the last child b element of nav.
  (last-child nav :b)</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L364">Source</a></div></div><div class="public" id="var-last-child%21"><h3>last-child!</h3><div class="usage"><code>(last-child! navigator)</code><code>(last-child! navigator element)</code></div><pre class="doc">Move the given navigator to the current element's last child element
(restricted by an optional element type), mutating it in place.

Examples:

  ; Move nav to the last child element.
  (last-child! nav)

  ; Move nav to the last child b element.
  (last-child! nav :b)</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L258">Source</a></div></div><div class="public" id="var-navigator"><h3>navigator</h3><div class="usage"><code>(navigator xml)</code><code>(navigator xml namespace-aware)</code></div><pre class="doc">Return a VTD navigator for the given XML string with optional namespace
support.  If called with only a string of XML, namespace support is disabled.

Examples:

  ; Return a navigator for the given string with no namespace support.
  (navigator &quot;&lt;root&gt;&lt;foo&gt;Bar&lt;/foo&gt;&lt;/root&gt;&quot;)

  ; Return a navigator for the given string with namespace support.
  (navigator &quot;&lt;root xmlns:ns=\&quot;http://example.com/ns\&quot;&gt;&lt;foo&gt;Bar&lt;/foo&gt;&lt;/root&gt;&quot; true)</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L93">Source</a></div></div><div class="public" id="var-next-sibling"><h3>next-sibling</h3><div class="usage"><code>(next-sibling navigator)</code><code>(next-sibling navigator element)</code></div><pre class="doc">Return a new navigator pointing to the current element's next sibling element
(restricted by an optional element type).

Examples:

  ; Return a new navigator pointing to the next sibling element of nav.
  (next-sibling nav)

  ; Return a new navigator pointing to the next sibling b element of nav.
  (next-sibling nav :b)</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L322">Source</a></div></div><div class="public" id="var-next-sibling%21"><h3>next-sibling!</h3><div class="usage"><code>(next-sibling! navigator)</code><code>(next-sibling! navigator element)</code></div><pre class="doc">Move the given navigator to the current element's next sibling element
(restricted by an optional element type), mutating it in place.

Examples:

  ; Move nav to the next sibling element.
  (next-sibling! nav)

  ; Move nav to the next sibling b element.
  (next-sibling! nav :b)</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L216">Source</a></div></div><div class="public" id="var-next-siblings"><h3>next-siblings</h3><div class="usage"><code>(next-siblings navigator)</code><code>(next-siblings navigator element)</code></div><pre class="doc">Return a lazy sequence of navigators representing all siblings next to the
given navigator (optionally restricted by a given element type).

Examples:

  ; Return navigators for every next sibling element to nav.
  (next-siblings nav)

  ; Return navigators for every next sibling p element to nav.
  (next-siblings nav :p)</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L378">Source</a></div></div><div class="public" id="var-parent"><h3>parent</h3><div class="usage"><code>(parent navigator)</code></div><pre class="doc">Return a new navigator pointing to the parent element of the given
navigator.</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L316">Source</a></div></div><div class="public" id="var-parent%21"><h3>parent!</h3><div class="usage"><code>(parent! navigator)</code></div><pre class="doc">Move the given navigator to the current element's parent element, mutating
it in place.</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L210">Source</a></div></div><div class="public" id="var-previous-sibling"><h3>previous-sibling</h3><div class="usage"><code>(previous-sibling navigator)</code><code>(previous-sibling navigator element)</code></div><pre class="doc">Return a new navigator pointing to the current element's previous sibling
element (restricted by an optional element type).

Examples:

  ; Return a new navigator pointing to the previous sibling element of nav.
  (previous-sibling nav)

  ; Return a new navigator pointing to the previous sibling b element of nav.
  (previous-sibling nav :b)</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L336">Source</a></div></div><div class="public" id="var-previous-sibling%21"><h3>previous-sibling!</h3><div class="usage"><code>(previous-sibling! navigator)</code><code>(previous-sibling! navigator element)</code></div><pre class="doc">Move the given navigator to the current element's previous sibling element
(restricted by an optional element type), mutating it in place.

Examples:

  ; Move nav to the previous sibling element.
  (previous-sibling! nav)

  ; Move nav to the previous sibling b element.
  (previous-sibling! nav :b)</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L230">Source</a></div></div><div class="public" id="var-previous-siblings"><h3>previous-siblings</h3><div class="usage"><code>(previous-siblings navigator)</code><code>(previous-siblings navigator element)</code></div><pre class="doc">Return a lazy sequence of navigators representing all siblings previous to
the given navigator (optionally restricted by a given element type).

Note that this is lazily evaluated right-to-left so the final sequence will
be in reverse order to the actual nodes in the document.

Examples:

  ; Return navigators for every previous sibling element to nav.
  (previous-siblings nav)

  ; Return navigators for every previous sibling p element to nav.
  (previous-siblings nav :p)</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L396">Source</a></div></div><div class="public" id="var-root"><h3>root</h3><div class="usage"><code>(root navigator)</code></div><pre class="doc">Return a new navigator pointing to the document root.
</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L311">Source</a></div></div><div class="public" id="var-root%21"><h3>root!</h3><div class="usage"><code>(root! navigator)</code></div><pre class="doc">Move the given navigator to the document root, mutating it in place.
</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L205">Source</a></div></div><div class="public" id="var-search"><h3>search</h3><div class="usage"><code>(search navigator xpath)</code><code>(search navigator xpath prefix url)</code></div><pre class="doc">Search for the given XPath in the navigator, returning a lazy sequence of all
matching navigators. If used with a namespace aware navigator, also takes
a namespace prefix and URL for use in the XPath.

Examples:

  ; Returns navigators for all matching elements.
  (search nav &quot;/article/title&quot;)

  ; Returns navigators for all matching elements providing ns-nav is
  ; namespace aware.
  (search ns-nav &quot;//ns1:title&quot; &quot;ns1&quot; &quot;http://example.com/ns&quot;)</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L536">Source</a></div></div><div class="public" id="var-select"><h3>select</h3><div class="usage"><code>(select navigator element)</code></div><pre class="doc">Return a lazy sequence of navigators matching the given element name, * can
be used to match all elements.

Examples:

  ; Returns navigators for each element in nav.
  (select nav &quot;*&quot;)

  ; Returns navigators for all b elements in nav.
  (select nav &quot;b&quot;)</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L569">Source</a></div></div><div class="public" id="var-siblings"><h3>siblings</h3><div class="usage"><code>(siblings navigator)</code><code>(siblings navigator element)</code></div><pre class="doc">Return navigators for all siblings to the given navigator (optionally
restricted by a given element type).

Note that this is not lazy in order to preserve the correct order of nodes
and previous siblings need to be fully realised for sorting.

Examples:

  ; Return navigators for all siblings to nav.
  (siblings nav)

  ; Return navigators for all sibling p elements to nav.
  (siblings nav :p)</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L417">Source</a></div></div><div class="public" id="var-tag"><h3>tag</h3><div class="usage"><code>(tag navigator)</code></div><pre class="doc">Return the tag name for the element under the given VTD navigator as a
string.

Examples:

  (tag (root nav))
  ;=&gt; &quot;root&quot;</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L110">Source</a></div></div><div class="public" id="var-text"><h3>text</h3><div class="usage"><code>(text navigator)</code></div><pre class="doc">Return all descendant text content below the given navigator as one string.
This means both the value of a simple text node and also the resulting text
value of a mixed content node such as &lt;p&gt;&lt;b&gt;Foo&lt;/b&gt; bar&lt;/p&gt;.

Examples:

  ; Returns &quot;Foo&quot; given nav points to &lt;p&gt;Foo&lt;/p&gt;
  (text nav)

  ; Returns &quot;Foo bar&quot; given nav points to &lt;p&gt;&lt;b&gt;Foo&lt;/b&gt; bar&lt;/p&gt;
  (text nav)</pre><div class="src-link"><a href="https://github.com/mudge/riveted/blob/master/src/riveted/core.clj#L496">Source</a></div></div></div></body></html>